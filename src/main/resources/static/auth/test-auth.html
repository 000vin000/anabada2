<!-- /static/auth/test-auth.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í† í° ì¸ì¦ í…ŒìŠ¤íŠ¸</title>
    <script type="module">
        import { fetchWithAuth } from "/js/user/fetchWithAuth.js";

        document.addEventListener("DOMContentLoaded", async () => {
            const token = localStorage.getItem("Token");
            if (!token) {
                document.getElementById("result").innerText = "âŒ í† í° ì—†ìŒ (ë¡œê·¸ì¸ í•„ìš”)";
                return;
            }

            try {
                const res = await fetchWithAuth("/user/pin/info"); // íšŒì›ì •ë³´ ì¡°íšŒ API
                if (!res.ok) {
                    const errorText = await res.text();
                    document.getElementById("result").innerText = `âŒ ì¸ì¦ ì‹¤íŒ¨: ${errorText}`;
                } else {
                    const data = await res.json();
                    document.getElementById("result").innerText = `âœ… ì¸ì¦ ì„±ê³µ: ${JSON.stringify(data)}`;
                }
            } catch (err) {
                document.getElementById("result").innerText = `âš ï¸ ìš”ì²­ ì‹¤íŒ¨: ${err}`;
            }
        });
    </script>
</head>
<body>
    <h2>JWT ì¸ì¦ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</h2>
    <p id="result">ğŸ”„ ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ í™•ì¸ ì¤‘...</p>
</body>
</html>
