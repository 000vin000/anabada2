# 하브루타노트(이동욱)

---

| **훈련과정**    | 자바&Springboot 크로스 플랫폼(풀스택)융합 응용SW개발자 양성과정 |
| ----------- | ----------------------------------------- |
| **훈련기간**    | 2024.10.28~2025.04.18                     |
| **훈련교사**    | 박민                                        |
| **프로젝트 유형** | 팀(협동)                                     |
| **팀원**      | 김정빈(팀장), 강수연, 정민지, 정현의, 이동욱, 한혜진          |
| **프로젝트 기간** | 2025.02.07 ~ 2025.02.20                   |
| **프로젝트명**   | 개인간의 의류 경매 플랫폼                            |

---

| 맡은 임무 | \|JWT 기반 인증 및 회원 관리 기능 구축 |
| ----- | ------------------------- |
| 작성일   | 2025.04.12                |
| 훈련생명  | 이동욱                       |

---

### 1. 작업이해도

- JWT 인증과 세션 기반 인증의 차이를 실제 구현 과정을 통해 명확히 이해함
- Access Token과 Refresh Token의 역할 및 발급 구조를 파악하고 적용
- 소셜 로그인(Google OAuth2) 흐름과 JWT 통합 방식을 구현하면서 숙지
- 2차 비밀번호 등록 및 인증 절차를 통한 민감 기능 보호 

### 2. 작업계획

- Spring Security 설정 기본 구조 수립 및 CSRF 비활성화
- JWT 토큰 발급 및 검증 로직(JwtUtil) 개발
- Refresh Token을 HttpOnly 쿠키로 저장하고 1회용으로 관리하는 로직 추가
- 회원가입 시 이메일 인증 단계 추가 및 인증번호 발송 기능 구현
- 소셜 로그인 성공 후 자동 회원가입 및 토큰 발급 처리 구현
- 회원정보 수정/탈퇴 API에 JWT 인증 적용 완료

### 3. 관찰기록

- JWT 토큰 구조에서 ROLE 접두어 설정 미흡으로 관리자 접근 오류 발생, 수정 경험
- 로그인/회원가입 후 토큰 저장 위치(localStorage) 통일 필요성을 인식하고 수정
- 소셜 로그인 후 토큰 전달 시 URL에 담아야 하는 문제를 겪고 해결
- Refresh Token 관리 시 HttpOnly 쿠키 사용이 보안 측면에서 필수임을 실제 적용 과정에서 체감
- 이메일 인증 기능 구현 과정에서 SMTP 프로토콜을 통한 메일 송수신 구조를 완벽히 이해함
- 2차 비밀번호 인증(PIN)을 회원정보 수정, 회원탈퇴 등의 민감 기능 진입 전에 적용하여 보안을 강화함

### 4. 본인의견

- JWT를 단순 발급/검증하는 것보다, 권한 설정과 토큰 저장 방식까지 고려하는 설계가 중요함을 느꼈다.
- 이메일 인증, 소셜 로그인, 2차 비밀번호 인증 등 여러 인증 단계를 통합하는 과정에서 전체 플로우를 고려한 설계 역량이 필요함을 체감했다.
- Refresh Token을 HttpOnly 쿠키로 저장하고 1회용으로 관리하는 보안 전략이 중요하다는 것을 직접 구현하면서 깊이 이해하게 되었다.
- 팀원들과 문제를 공유하고 함께 디버깅한 경험을 통해 협업의 중요성과 실질적인 성장의 기회를 얻었다.
- 이후 프로젝트에서는 인증 흐름을 더 체계적으로 문서화하고, 예외 처리와 인증 실패 시 대응 방안까지 사전에 설계하는 습관을 들일 계획이다.